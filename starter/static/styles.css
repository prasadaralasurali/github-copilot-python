:root{
    --bg: #f4f4f4;
    --panel: #ffffff;
    --accent: #1976d2;
    --muted: #666;
    --cell-bg: #fafafa;
    --cell-text: #222;
    --prefilled-bg: #e0e0e0;
    --prefilled-text: #111;
    --invalid: #ff8a80;
}
body[data-theme='dark']{
    --bg: #121212;
    --panel: #1e1e1e;
    --accent: #90caf9;
    --muted: #ddd;
    --cell-bg: #151515;
    --cell-text: #e8e8e8;
    --prefilled-bg: #1f1f1f;
    --prefilled-text: #ffffff;
}

body {
    font-family: Arial, Helvetica, sans-serif;
    background: var(--bg);
    color: var(--muted);
    margin: 0;
    padding: 0;
}

.top {
    display:flex;
    justify-content:center;
    align-items:center;
    padding:12px 20px;
    position:relative;
}
.top h1{ margin:0; color:var(--muted); font-size:28px }
.top-right{ position:absolute; right:12px; top:12px }
.timer{ font-weight:700; font-size:18px; color:var(--muted); margin-top:8px }

.toggle-label{ margin-right:8px; font-weight:600; color:var(--muted) }

main{
    display:flex;
    flex-direction:column;
    gap:20px;
    align-items:center;
    padding: 12px;
}

#board-area{ display:flex; gap:18px; align-items:flex-start; flex-wrap:wrap; justify-content:center }

#sudoku-board{
    display:grid;
    grid-template-rows: repeat(9, 1fr);
    border: 4px solid var(--accent);
    background: var(--panel);
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    margin: 0 auto;
}

.instructions{
    background: var(--panel);
    padding:12px 18px;
    border-radius:4px;
    max-width:760px;
    width:100%;
    box-sizing:border-box;
    box-shadow: 0 1px 0 rgba(0,0,0,0.03) inset;
    margin-bottom:8px;
}

.top-controls-row{ margin-top:6px }

.board-panel{ display:flex; gap:24px; align-items:flex-start; justify-content:center; width:100% }
.board-panel #sudoku-wrap{ display:flex; flex-direction:column; align-items:center }
.side-controls{ display:flex; flex-direction:column; gap:18px; margin-left:18px }
.side-card{ background:var(--panel); padding:12px 16px; border-radius:6px; display:flex; align-items:center; gap:14px; box-shadow:0 1px 0 rgba(0,0,0,0.03) }
.side-card button{ min-width:92px }

.timer-row{ margin-top:12px; text-align:center }

/* header box behind title like screenshot */
.top h1{ background:#f3f3f3; padding:6px 28px; border-radius:6px; color:#666; font-weight:700 }

.sudoku-row{ display:grid; grid-template-columns: repeat(9, 1fr); }

.sudoku-cell{
    width:36px; height:36px;
    box-sizing:border-box;
    border:1px solid #9e9e9e;
    text-align:center; font-size:18px; line-height:36px;
    background:var(--cell-bg);
    color:var(--cell-text);
    outline:none; transition:background .12s, box-shadow .12s;
}

/* Make sure the block color classes don't shift layout: apply to cells and preserve sizes */
.sudoku-row .block-0, .sudoku-row .block-1, .sudoku-row .block-2, .sudoku-row .block-3, .sudoku-row .block-4,
.sudoku-row .block-5, .sudoku-row .block-6, .sudoku-row .block-7, .sudoku-row .block-8 { box-sizing:border-box }

.sudoku-cell:focus{ box-shadow:0 0 0 3px rgba(25,118,210,0.12) }
.sudoku-cell.prefilled{ background:var(--prefilled-bg); font-weight:700; color:var(--prefilled-text) }
.sudoku-cell.invalid{ box-shadow: inset 0 0 0 2px var(--invalid); background: #fff2f2 }
.sudoku-cell.incorrect{ background: #ffcdd2 }
.sudoku-cell.hint{ font-weight:700 }

/* thicker borders between 3x3 blocks */
.sudoku-row > .sudoku-cell:nth-child(3),
.sudoku-row > .sudoku-cell:nth-child(6){ border-right:4px solid #333 }
.sudoku-row:nth-child(3) > .sudoku-cell,
.sudoku-row:nth-child(6) > .sudoku-cell{ border-bottom:4px solid #333 }

/* outer board border thicker like screenshot */
#sudoku-board{ border:4px solid #333 }

.panel{ display:flex; flex-direction:column; gap:10px }
/* control rows and inline hint label */
.controls-row{ display:flex; gap:12px; align-items:center; justify-content:center; margin:8px 0 }
.controls-row.center{ justify-content:center }
.hints-inline{ margin-left:8px; font-weight:600 }

.controls{ display:flex; gap:8px; align-items:center }
select, button{ padding:8px 12px; border-radius:6px; border:0; cursor:pointer }
button{ background:var(--accent); color:#fff }
button:hover{ filter:brightness(.95) }

/* Toggle switch */
.switch{ position:relative; display:inline-block; width:46px; height:26px }
.switch input{ opacity:0; width:0; height:0 }
.slider{ position:absolute; cursor:pointer; top:0; left:0; right:0; bottom:0; background:#ccc; transition:.3s; border-radius:26px }
.slider:before{ position:absolute; content:""; height:20px; width:20px; left:3px; bottom:3px; background:white; transition:.3s; border-radius:50% }
.switch input:checked + .slider{ background:var(--accent) }
.switch input:checked + .slider:before{ transform:translateX(20px) }

/* distinct 3x3 block colors (subtle) */
/* subtle single-color grid with central cross shaded to match screenshot */
.block-0{ background:transparent }
.block-1{ background:transparent }
.block-2{ background:transparent }
.block-3{ background:transparent }
.block-4{ background:transparent }
.block-5{ background:transparent }
.block-6{ background:transparent }
.block-7{ background:transparent }
.block-8{ background:transparent }

/* Dark-mode variants for block backgrounds (increase opacity) */
.block-high{ background: #bdbdbd }
.block-clear{ background: transparent }
/* reverse highlighting pattern in dark mode: highlighted blocks become clear, others get fill */
body[data-theme='dark'] .block-high{ background: transparent }
body[data-theme='dark'] .block-clear{ background: #555 }

.status{ font-size:14px; color:var(--muted) }
#message{ margin-top:6px }

#sidebar{ width:260px }
#top-times-list{ padding-left:18px }

footer{ padding:12px; text-align:center; color:var(--muted) }

/* responsive */
@media(max-width:900px){
    main{ flex-direction:column; align-items:center }
    #sidebar{ width:100% }
    #sudoku-board { transform: scale(0.95); }
}

#bottom-times{ width:100%; display:flex; flex-direction:column; align-items:center; gap:8px; margin-top:12px }
#top-times-table{ border-collapse:collapse; width:640px; max-width:95% }
#top-times-table th, #top-times-table td{ padding:8px 10px; text-align:left; border-bottom:1px solid rgba(0,0,0,0.06) }
#top-times-table thead th{ background:var(--panel); color:var(--muted) }

#bottom-times h2{ background:#efefef; padding:8px 18px; border-radius:6px; color:#666; margin:0 }
